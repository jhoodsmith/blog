#+title: Creating a Hugo blog using Org
#+date: 2021-02-01
#+author: James Hood-Smith

#+hugo_base_dir: ../
#+hugo_tags: hugo org
#+hugo_categories: emacs
#+hugo_draft: true

In which we setup our working environment for creating blog posts as single page
Org files.

* Installation
Install Hugo:
#+BEGIN_SRC bash
brew install hugo
#+END_SRC

Setup Org:
#+BEGIN_SRC elisp
;; Add to init.el
(use-package ox-hugo)
#+END_SRC

* Setup new blog
Create new site:
#+BEGIN_SRC bash
hugo new site blog
#+END_SRC

Add Org directory:
#+BEGIN_SRC bash
cd blog
mkdir content-org
#+END_SRC

Configure Org to automatically create markdown files:
#+BEGIN_SRC elisp
;; Save to .dir-locals.el in blog root
(("content-org/"
  . ((org-mode . ((eval . (org-hugo-auto-export-mode)))))))
#+END_SRC

Add a nice theme as a git sub module (I'm using [[https://github.com/matsuyoshi30/harbor][Harbor]]).
#+BEGIN_SRC bash
cd themes/
git submodule add https://github.com/alexandrevicenzi/harbor.git
#+END_SRC

#+RESULTS:

Copy the configuration from the theme's [[https://themes.gohugo.io/harbor/][page in Hugo Themes]] into the file =config.toml=.

* New post template

Start each new Org file in =content-org= with the following snippet:
#+BEGIN_SRC md
#+title: Blog post title
#+date: YYYY-MM-DD
#+author: James Hood-Smith

#+hugo_base_dir: ../
#+hugo_tags: tag1 tag2
#+hugo_categories: category
#+hugo_draft: true
#+END_SRC
